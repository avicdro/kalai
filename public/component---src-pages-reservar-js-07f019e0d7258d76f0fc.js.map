{"version":3,"sources":["webpack:///./redux/operations/habitaciones.js","webpack:///./src/components/moleculas/FormReserva/FormReserva.js","webpack:///./src/pages/reservar.js","webpack:///./node_modules/core-js/modules/es6.math.trunc.js"],"names":["reservarHabitacionOperation","dataHabitacion","dispath","getState","habitacionesReservadas","habitacionesReducer","nuevaLista","push","numberIdHabitacion","length","numberRefReserva","getRandomArbitrary","finalList","reverse","window","localStorage","setItem","JSON","stringify","reservarHabitacion","navigate","min","max","Math","trunc","random","FormContainer","styled","form","ItemForm","label","margin","justifyContent","ButtomFormSubmit","input","theme","colors","emphasis","InputContContainer","div","BtnCont","secondary","main","InputsHuespedContainer","Frase","p","PrecioContainerItemTableList","PrecioNumberContainer","connect","state","habitacionesData","habitacionData","dispatch","reservar","dataReservation","props","minHeight","tipoDeHabitacionData","typeSelected","useForm","defaultValues","CantAdult","CantRooms","CantChildrens","CostTotal","precioUnaNoche","costTotalConFechas","register","handleSubmit","setValue","errors","useState","initialDate","SetInitialDate","finalDate","SetFinalDate","focusInputDates","SetFocusInputDates","setCantAdult","setCantChildrens","setCantRooms","diffDays","setDiffDays","costTotal","setCostTotal","setcostTotalConFechas","innerWidth","isMobile","setIsMobile","handleCalc","field","operation","diffDates","diff","handleEventResize","useEffect","name","required","addEventListener","moment","locale","esLocale","onSubmit","data","console","log","cantDates","finalCost","type","numberRooms","numberAdults","numberChilds","toast","startDatePlaceholderText","endDatePlaceholderText","startDate","startDateId","endDate","endDateId","onDatesChange","undefined","diffDatesVar","focusedInput","onFocusChange","orientation","onClick","value","customStyles","content","top","left","right","bottom","marginRight","transform","overlay","zIndex","Modal","setAppElement","Section","ContainerPrinList","ItemPrinListContainer","ImgPrinListTable","img","TitleSection","h1","aling","fontSize","BtnReservarItemTableList","CloseModalBtn","isLogin","loginRegisterUser","modalIsOpen","setIsOpen","settypeSelected","setIsLogin","openModal","closeModal","title","src","habitacionIndividual","habitacionDoble","habitacionTriple","isOpen","onRequestClose","style","contentLabel","FormLogin","contextSite","$export","S","it","floor","ceil"],"mappings":"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","file":"component---src-pages-reservar-js-07f019e0d7258d76f0fc.js","sourcesContent":["import {\r\n  reservarHabitacion,\r\n} from \"../actions/habitaciones\"\r\n\r\nimport { navigate } from \"gatsby\"\r\n\r\nexport const reservarHabitacionOperation = dataHabitacion => {\r\n  return (dispath, getState) => {\r\n    let {\r\n      habitacionesReducer: { habitacionesReservadas },\r\n    } = getState()\r\n\r\n    let nuevaLista = habitacionesReservadas\r\n\r\n    nuevaLista.push({\r\n      ...dataHabitacion,\r\n      numberIdHabitacion: habitacionesReservadas.length,\r\n      numberRefReserva: getRandomArbitrary(10000, 1000),\r\n    })\r\n\r\n    let finalList = nuevaLista.reverse()\r\n    window.localStorage.setItem(\"reservas\",JSON.stringify(finalList))\r\n    dispath(reservarHabitacion(finalList))\r\n    navigate(\"/perfil/\")\r\n  }\r\n}\r\n\r\n// const calcTotalCost = (initialDate, finalDate, costBase) =>\r\n//   finalDate.diff(initialDate, \"days\") * costBase\r\n\r\n// const diffDates = (initialDate, finalDate) =>\r\n//   finalDate.diff(initialDate, \"days\")\r\n\r\nconst getRandomArbitrary = (min, max) =>\r\n  Math.trunc(Math.random() * (max - min) + min)\r\n","import React, { useState, useEffect } from \"react\"\r\n\r\nimport { useForm } from \"react-hook-form\"\r\nimport { toast } from \"react-toastify\"\r\n\r\nimport { connect } from \"react-redux\"\r\n\r\nimport \"react-dates/initialize\"\r\nimport \"react-dates/lib/css/_datepicker.css\"\r\nimport \"./dataRangerPicker.css\"\r\nimport { DateRangePicker } from \"react-dates\"\r\nimport esLocale from \"moment/locale/es\"\r\nimport moment from \"moment\"\r\n\r\nimport {reservarHabitacionOperation} from '../../../../redux/operations/habitaciones'\r\n\r\n\r\nimport styled from \"styled-components\"\r\n\r\nconst FormContainer = styled.form`\r\n  padding: 24px 26px;\r\n  width: fit-content;\r\n  height: fit-content;\r\n  display: flex;\r\n  margin: 0 auto;\r\n  flex-direction: column;\r\n  border-radius: 12px;\r\n\r\n  @media (max-width: 750px) {\r\n    height: 500px;\r\n  }\r\n`\r\nconst ItemForm = styled.label`\r\n  margin: ${({ margin }) => (margin ? margin : \"0px\")};\r\n  width: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: ${({ justifyContent }) =>\r\n    justifyContent ? justifyContent : \"space-between\"};\r\n`\r\n\r\nconst ButtomFormSubmit = styled.input`\r\n  appearance: none;\r\n  border: none;\r\n  font-weight: 900;\r\n  color: white;\r\n  padding: 12px 24px;\r\n  border-radius: 8px;\r\n  background-color: ${({ theme }) => theme.colors.emphasis};\r\n  font-size: 18px;\r\n  width: 52%;\r\n  outline: none;\r\n  cursor: pointer;\r\n  @media (max-width: 400px) {\r\n    width: 100%;\r\n  }\r\n`\r\n\r\nconst ErrorMsj = styled.div`\r\n  color: red;\r\n  font-size: 10px;\r\n`\r\n// Input suma y resta de huespedes\r\nconst InputContContainer = styled.div`\r\n  width: fit-content;\r\n  padding: 12px;\r\n  display: flex;\r\n  justify-content: space-around;\r\n  align-items: center;\r\n`\r\nconst BtnCont = styled.div`\r\n  display: inline-block;\r\n  text-align: center;\r\n  height: 25px;\r\n  width: 25px;\r\n  line-height: 25px;\r\n  font-weight: bolder;\r\n  border-radius: 50%;\r\n  cursor: pointer;\r\n  color: white;\r\n  background-color: ${({ theme }) => theme.colors.secondary.main};\r\n  transition: 300ms background-color;\r\n  margin: 0px 6px;\r\n  user-select: none;\r\n  &:hover {\r\n    background-color: rgba(24, 44, 53, 1);\r\n  }\r\n`\r\nconst InputsHuespedContainer = styled.div`\r\n  display: flex;\r\n  width: 100%;\r\n  flex-wrap: wrap;\r\n  justify-content: space-between;\r\n  label {\r\n    max-width: 224px;\r\n  }\r\n  @media (max-width: 670px) {\r\n    label {\r\n      max-width: 100%;\r\n    }\r\n  }\r\n`\r\nconst Frase = styled.p`\r\n  font-size: 32px;\r\n  font-weight: bold;\r\n  color: ${({ theme }) => theme.colors.secondary.main};\r\n\r\n  @media (max-width: 478px) {\r\n    font-size: 28px;\r\n  }\r\n`\r\n\r\nconst PrecioContainerItemTableList = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  width: 100%;\r\n  > p {\r\n    margin: 4px 0px;\r\n    text-align: center;\r\n    font-size: 18px;\r\n  }\r\n`\r\nconst PrecioNumberContainer = styled.div`\r\n  font-size: 48px;\r\n  font-weight: 900;\r\n  color: ${({ theme }) => theme.colors.secondary.main};\r\n  sub {\r\n    font-size: 24px;\r\n  }\r\n`\r\n\r\nconst FormReserva = props => {\r\n  const { minHeight } = props\r\n  let tipoDeHabitacionData =\r\n    props.habitacionesData[\"habitacion\" + props.typeSelected]\r\n  const { register, handleSubmit, setValue, errors } = useForm({\r\n    defaultValues: {\r\n      CantAdult: 1,\r\n      CantRooms: 1,\r\n      CantChildrens: 0,\r\n      CostTotal: tipoDeHabitacionData.precioUnaNoche,\r\n      costTotalConFechas: 0,\r\n    },\r\n  })\r\n\r\n  const onSubmitEvent = data => {\r\n    console.log(\"asdasd\",data)\r\n    let dataReservation = {\r\n      initialDate: initialDate,\r\n      finalDate: finalDate,\r\n      cantDates: diffDays,\r\n      finalCost:(costTotal >= tipoDeHabitacionData.precioUnaNoche &&\r\n        costTotalConFechas === 0)\r\n          ? costTotal\r\n          : costTotalConFechas,\r\n      type: tipoDeHabitacionData.type,\r\n      numberRooms: data.CantRooms,\r\n      numberAdults: data.CantAdult,\r\n      numberChilds: data.CantChildrens,\r\n    }\r\n    props.reservar(dataReservation)\r\n    toast(\"Gracias por reservar una habitacion 😊🎉🎉, lo estaremos esperando\",{\r\n      type: \"success\"\r\n    })\r\n  }\r\n\r\n  const [initialDate, SetInitialDate] = useState(null)\r\n  const [finalDate, SetFinalDate] = useState(null)\r\n  const [focusInputDates, SetFocusInputDates] = useState(null)\r\n\r\n  const [CantAdult, setCantAdult] = useState(1)\r\n  const [CantChildrens, setCantChildrens] = useState(0)\r\n  const [CantRooms, setCantRooms] = useState(1)\r\n  const [diffDays, setDiffDays] = useState(0)\r\n  const [costTotal, setCostTotal] = useState(\r\n    tipoDeHabitacionData.precioUnaNoche\r\n  )\r\n  const [costTotalConFechas, setcostTotalConFechas] = useState(0)\r\n\r\n  const [isMobile, setIsMobile] = useState(\r\n    window.innerWidth <= 700 ? true : false\r\n  )\r\n\r\n  const handleChangeDates = ({ startDate, endDate }) => {\r\n    if (startDate !== undefined && endDate !== undefined) {\r\n      setValue(\"initialDateInput\", startDate)\r\n      setValue(\"finalDateInput\", endDate)\r\n      SetInitialDate(startDate)\r\n      SetFinalDate(endDate)\r\n      let coste = 0\r\n      if (startDate !== null && endDate !== null) {\r\n        let diffDatesVar = diffDates(startDate, endDate)\r\n        setDiffDays(diffDatesVar)\r\n        coste = diffDatesVar * costTotal\r\n        setcostTotalConFechas(coste)\r\n      }\r\n    }\r\n  }\r\n\r\n  const handleCalc = (field, operation) => {\r\n    if (operation === \"add\") {\r\n      switch (field) {\r\n        case \"CantAdult\":\r\n          if (CantAdult + 1 > 16) return\r\n          setValue(\"CantAdult\", CantAdult + 1)\r\n          setCantAdult(CantAdult + 1)\r\n\r\n          if ((CantAdult + 1) % 4 === 0) {\r\n            if (CantRooms + 1 > 10) return\r\n            setValue(\"CantRooms\", CantRooms + 1)\r\n            setCantRooms(CantRooms + 1)\r\n\r\n            setValue(\r\n              \"CostTotal\",\r\n              costTotal + tipoDeHabitacionData.precioUnaNoche\r\n            )\r\n            setCostTotal(costTotal + tipoDeHabitacionData.precioUnaNoche)\r\n            setValue(\r\n              \"costTotalConFechas\",\r\n              diffDays * (costTotal + tipoDeHabitacionData.precioUnaNoche)\r\n            )\r\n\r\n            setcostTotalConFechas(\r\n              diffDays * (costTotal + tipoDeHabitacionData.precioUnaNoche)\r\n            )\r\n          }\r\n          break\r\n        case \"CantChildrens\":\r\n          if (CantChildrens + 1 > 10) return\r\n          setValue(\"CantChildrens\", CantChildrens + 1)\r\n          setCantChildrens(CantChildrens + 1)\r\n          break\r\n\r\n        case \"CantRooms\":\r\n          if (CantRooms + 1 > 10) return\r\n          setValue(\"CantRooms\", CantRooms + 1)\r\n          setCantRooms(CantRooms + 1)\r\n\r\n          setValue(\"CostTotal\", costTotal + tipoDeHabitacionData.precioUnaNoche)\r\n          setCostTotal(costTotal + tipoDeHabitacionData.precioUnaNoche)\r\n          setValue(\r\n            \"costTotalConFechas\",\r\n            diffDays * (costTotal + tipoDeHabitacionData.precioUnaNoche)\r\n          )\r\n          setcostTotalConFechas(\r\n            diffDays * (costTotal + tipoDeHabitacionData.precioUnaNoche)\r\n          )\r\n\r\n        default:\r\n          break\r\n      }\r\n    } else {\r\n      switch (field) {\r\n        case \"CantAdult\":\r\n          if (CantAdult - 1 < 1) return\r\n          setValue(\"CantAdult\", CantAdult - 1)\r\n          setCantAdult(CantAdult - 1)\r\n\r\n          if ((CantAdult - 1) % 4 === 0) {\r\n            setValue(\"CantRooms\", CantRooms - 1)\r\n            setCantRooms(CantRooms - 1)\r\n\r\n            setValue(\r\n              \"CostTotal\",\r\n              costTotal - tipoDeHabitacionData.precioUnaNoche\r\n            )\r\n            setCostTotal(costTotal - tipoDeHabitacionData.precioUnaNoche)\r\n            setValue(\r\n              \"costTotalConFechas\",\r\n              diffDays * (costTotal - tipoDeHabitacionData.precioUnaNoche)\r\n            )\r\n            setcostTotalConFechas(\r\n              diffDays * (costTotal - tipoDeHabitacionData.precioUnaNoche)\r\n            )\r\n          }\r\n          break\r\n        case \"CantChildrens\":\r\n          if (CantChildrens - 1 < 0) return\r\n          setValue(\"CantChildrens\", CantChildrens - 1)\r\n          setCantChildrens(CantChildrens - 1)\r\n          break\r\n\r\n        case \"CantRooms\":\r\n          if (CantRooms - 1 < 1) return\r\n          setValue(\"CantRooms\", CantRooms - 1)\r\n          setCantRooms(CantRooms - 1)\r\n\r\n          setValue(\"CostTotal\", costTotal - tipoDeHabitacionData.precioUnaNoche)\r\n          setCostTotal(costTotal - tipoDeHabitacionData.precioUnaNoche)\r\n          setValue(\r\n            \"costTotalConFechas\",\r\n            diffDays * (costTotal - tipoDeHabitacionData.precioUnaNoche)\r\n          )\r\n          setcostTotalConFechas(\r\n            diffDays * (costTotal - tipoDeHabitacionData.precioUnaNoche)\r\n          )\r\n\r\n        default:\r\n          break\r\n      }\r\n    }\r\n  }\r\n  const diffDates = (initialDate, finalDate) =>\r\n    finalDate.diff(initialDate, \"days\")\r\n\r\n  const handleEventResize = () => {\r\n    if (window.innerWidth <= 750) {\r\n      setIsMobile(true)\r\n      return\r\n    } else {\r\n      setIsMobile(false)\r\n    }\r\n  }\r\n  const handleResize = () => {\r\n    window.addEventListener(\"resize\", handleEventResize)\r\n  }\r\n  useEffect(() => {\r\n    register({ name: \"initialDateInput\" }, { required: true })\r\n    register({ name: \"finalDateInput\" }, { required: true })\r\n    register({ name: \"CantAdult\" })\r\n    register({ name: \"CantRooms\" })\r\n    register({ name: \"CantChildrens\" })\r\n    register({ name: \"CostTotal\" })\r\n    register({ name: \"costTotalConFechas\" })\r\n    handleResize()\r\n  }, [register])\r\n\r\n  // Config lenguaje datePickers\r\n  moment.locale(\"es\", esLocale)\r\n  return (\r\n    <FormContainer minHeight={minHeight} onSubmit={handleSubmit(onSubmitEvent)}>\r\n      <Frase>Rellene los datos para realizar su reserva</Frase>\r\n      <ItemForm margin=\"2px 0px 26px\">\r\n        <DateRangePicker\r\n          startDatePlaceholderText=\"Fecha de ingreso\"\r\n          endDatePlaceholderText=\"Fecha de salida\"\r\n          startDate={initialDate} // momentPropTypes.momentObj or null,\r\n          startDateId=\"initialDateInput\" // PropTypes.string.isRequired,\r\n          endDate={finalDate} // momentPropTypes.momentObj or null,\r\n          endDateId=\"finalDateInput\" // PropTypes.string.isRequired,\r\n          onDatesChange={handleChangeDates} // PropTypes.func.isRequired,\r\n          focusedInput={focusInputDates} // PropTypes.oneOf([START_DATE, END_DATE]) or null,\r\n          onFocusChange={focusedInput => SetFocusInputDates(focusedInput)} // PropTypes.func.isRequired,\r\n          orientation={isMobile ? \"vertical\" : \"horizontal\"}\r\n        />\r\n      </ItemForm>\r\n      <span>Huéspedes</span>\r\n      <InputsHuespedContainer>\r\n        <ItemForm>\r\n          Adultos\r\n          <InputContContainer>\r\n            <BtnCont onClick={() => handleCalc(\"CantAdult\", \"subtract \")}>\r\n              -\r\n            </BtnCont>\r\n            {CantAdult}\r\n            <BtnCont onClick={() => handleCalc(\"CantAdult\", \"add\")}>+</BtnCont>\r\n          </InputContContainer>\r\n        </ItemForm>\r\n        <ItemForm>\r\n          Niños\r\n          <InputContContainer>\r\n            <BtnCont onClick={() => handleCalc(\"CantChildrens\", \"subtract\")}>\r\n              -\r\n            </BtnCont>\r\n            {CantChildrens}\r\n            <BtnCont onClick={() => handleCalc(\"CantChildrens\", \"add\")}>\r\n              +\r\n            </BtnCont>\r\n          </InputContContainer>\r\n        </ItemForm>\r\n      </InputsHuespedContainer>\r\n      <ItemForm>\r\n        Cantidad habitaciones\r\n        <InputContContainer>\r\n          <BtnCont onClick={() => handleCalc(\"CantRooms\", \"subtract\")}>\r\n            -\r\n          </BtnCont>\r\n          {CantRooms}\r\n          <BtnCont onClick={() => handleCalc(\"CantRooms\", \"add\")}>+</BtnCont>\r\n        </InputContContainer>\r\n      </ItemForm>\r\n      <ItemForm>\r\n        <div>\r\n          Tipo de habitacion:\r\n          <div> {tipoDeHabitacionData.type} </div>\r\n        </div>\r\n      </ItemForm>\r\n\r\n      <ItemForm>\r\n        <PrecioContainerItemTableList>\r\n          <p>Total a pagar:</p>\r\n          <PrecioNumberContainer>\r\n            {costTotal >= tipoDeHabitacionData.precioUnaNoche &&\r\n            costTotalConFechas === 0\r\n              ? costTotal\r\n              : costTotalConFechas}\r\n            <sub>.99</sub>€\r\n          </PrecioNumberContainer>\r\n        </PrecioContainerItemTableList>\r\n      </ItemForm>\r\n      <ItemForm justifyContent=\"flex-end\" margin=\"36px 0px 0px\">\r\n        <ButtomFormSubmit type=\"submit\" value=\"Reservar\" />\r\n      </ItemForm>\r\n    </FormContainer>\r\n  )\r\n}\r\nconst mapStateToProps = state => ({\r\n  habitacionesData: state.habitacionesReducer.habitacionData,\r\n})\r\n// typeSelected\r\nconst mapDispatchToProps = dispatch => ({\r\n  reservar: (dataReservation) => dispatch(reservarHabitacionOperation(dataReservation)),\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(FormReserva)\r\n","import React, { useState, useEffect } from \"react\"\r\nimport styled from \"styled-components\"\r\n\r\nimport SEO from \"../components/seo\"\r\nimport { connect } from \"react-redux\"\r\nimport { reservarHabitacionOperation } from \"../../redux/operations/habitaciones\"\r\n\r\nimport Modal from \"react-modal\"\r\nimport FormReserva from \"../components/moleculas/FormReserva/FormReserva\"\r\nimport FormLogin from \"../components/moleculas/FormLogin\"\r\nconst customStyles = {\r\n  content: {\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    right: \"auto\",\r\n    bottom: \"auto\",\r\n    marginRight: \"-50%\",\r\n    transform: \"translate(-50%, -50%)\",\r\n  },\r\n  overlay: {\r\n    zIndex: \"200\"\r\n  }\r\n}\r\n\r\nModal.setAppElement(\"#___gatsby\")\r\n\r\nconst Section = styled.div`\r\n  margin: 100px auto;\r\n`\r\n\r\nconst ContainerPrinList = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n`\r\n\r\nconst ItemPrinListContainer = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  height: 300px;\r\n  width: 100%;\r\n  margin: 4px 0px;\r\n  padding: 0;\r\n  border: 1px solid #eee;\r\n\r\n  border-radius: 12px;\r\n  overflow: hidden;\r\n  text-align: center;\r\n\r\n  @media (max-width: 600px) {\r\n    flex-direction: column;\r\n    height: auto;\r\n    div {\r\n      margin: 24px 0px; \r\n    }\r\n    img{\r\n      width: 100%;\r\n    }\r\n\r\n  }\r\n`\r\nconst ImgPrinListTable = styled.img`\r\n  width: 200px;\r\n  height: 300px;\r\n`\r\nconst TitleSection = styled.h1`\r\n  text-align: ${({ aling }) => (aling ? aling : \"center\")};\r\n  font-size: ${({ fontSize }) => (fontSize ? fontSize : \"inherit\")};\r\n`\r\nconst PrecioContainerItemTableList = styled.div`\r\n  > p {\r\n    margin: 4px 0px;\r\n    text-align: center;\r\n    font-size: 18px;\r\n  }\r\n`\r\nconst PrecioNumberContainer = styled.div`\r\n  font-size: 48px;\r\n  font-weight: 900;\r\n  color: ${({ theme }) => theme.colors.secondary.main};\r\n  sub {\r\n    font-size: 24px;\r\n  }\r\n`\r\n\r\nconst BtnReservarItemTableList = styled.div`\r\n  color: white;\r\n  background-color: ${({ theme }) => theme.colors.secondary.main};\r\n  transition: 300ms;\r\n  cursor: pointer;\r\n  display: flex;\r\n  text-align: center;\r\n  height: 100%;\r\n  justify-content: center;\r\n  align-items: center;\r\n  padding: 12px;\r\n  :hover {\r\n    background-color: ${({ theme }) => theme.colors.emphasis};\r\n  }\r\n  @media (max-width: 600px) {\r\n    width: 100%;  \r\n\r\n}\r\n`\r\n\r\nconst CloseModalBtn = styled.div`\r\n  width: fit-content;\r\n  float: right;\r\n  padding: 0;\r\n  font-weight: 900;\r\n  text-align: center;\r\n  cursor: pointer;\r\n  :hover {\r\n    color: #aeaeae;\r\n  }\r\n`\r\n\r\nconst ReservarPage = props => {\r\n  const [modalIsOpen, setIsOpen] = useState(false)\r\n  const [typeSelected, settypeSelected] = useState(\"Individual\")\r\n  const [isLogin, setIsLogin] = useState(props.isLogin)\r\n\r\n  useEffect(() => {\r\n    if (isLogin !== props.isLogin) {\r\n      setIsLogin(props.isLogin)\r\n    }\r\n  })\r\n\r\n  function openModal(type) {\r\n    setIsOpen(true)\r\n    settypeSelected(type)\r\n  }\r\n\r\n  function closeModal() {\r\n    setIsOpen(false)\r\n  }\r\n  return (\r\n    <>\r\n      <SEO title=\"Pagina para reservar\" />\r\n      <Section>\r\n        <TitleSection fontSize=\"72px\">Realiza una reserva</TitleSection>\r\n        <ContainerPrinList>\r\n          <ItemPrinListContainer>\r\n            <ImgPrinListTable src={props.habitacionData.habitacionIndividual.img} />\r\n            <PrecioContainerItemTableList>\r\n              <p>Una noche</p>\r\n              <PrecioNumberContainer>\r\n                {props.habitacionData.habitacionIndividual.precioUnaNoche}\r\n                <sub>.99</sub>€\r\n              </PrecioNumberContainer>\r\n            </PrecioContainerItemTableList>\r\n            <BtnReservarItemTableList onClick={()=>openModal(\"Individual\")}>\r\n              <span>Reservar</span>\r\n            </BtnReservarItemTableList>\r\n          </ItemPrinListContainer>\r\n          <ItemPrinListContainer>\r\n            <ImgPrinListTable\r\n              src={props.habitacionData.habitacionDoble.img}\r\n            />\r\n\r\n            <PrecioContainerItemTableList>\r\n              <p>Una noche</p>\r\n              <PrecioNumberContainer>\r\n                {props.habitacionData.habitacionDoble.precioUnaNoche}\r\n                <sub>.99</sub>€\r\n              </PrecioNumberContainer>\r\n            </PrecioContainerItemTableList>\r\n            <BtnReservarItemTableList onClick={()=>openModal(\"Doble\")}>\r\n              <span>Reservar</span>\r\n            </BtnReservarItemTableList>\r\n          </ItemPrinListContainer>\r\n\r\n          <ItemPrinListContainer>\r\n            <ImgPrinListTable src={props.habitacionData.habitacionTriple.img} />\r\n            <PrecioContainerItemTableList>\r\n              <p>Una noche</p>\r\n              <PrecioNumberContainer>\r\n                {props.habitacionData.habitacionTriple.precioUnaNoche}\r\n                <sub>.99</sub>€\r\n              </PrecioNumberContainer>\r\n            </PrecioContainerItemTableList>\r\n            <BtnReservarItemTableList onClick={()=>openModal(\"Triple\")}>\r\n              <span>Reservar</span>\r\n            </BtnReservarItemTableList>\r\n          </ItemPrinListContainer>\r\n        </ContainerPrinList>\r\n      </Section>\r\n\r\n      <Modal\r\n        isOpen={modalIsOpen}\r\n        onRequestClose={closeModal}\r\n        style={customStyles}\r\n        contentLabel=\"Example Modal\"\r\n      >\r\n        <CloseModalBtn onClick={closeModal}>X</CloseModalBtn>\r\n\r\n        {isLogin ? (\r\n          <FormReserva typeSelected={typeSelected} />\r\n        ) : (\r\n          <>\r\n            <h3>\r\n              Lo lamento debe de estar registrado para realizar esta operación\r\n            </h3>\r\n            <FormLogin contextSite=\"fuera\"/>\r\n          </>\r\n        )}\r\n      </Modal>\r\n    </>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  habitacionData: state.habitacionesReducer.habitacionData,\r\n  isLogin: state.loginRegisterUser.isLogin,\r\n})\r\n\r\nconst mapDispatchToProps = dispath => ({\r\n  reservarHabitacion: data => {\r\n    dispath(reservarHabitacionOperation(data))\r\n  },\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ReservarPage)\r\n","// 20.2.2.34 Math.trunc(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  trunc: function trunc(it) {\n    return (it > 0 ? Math.floor : Math.ceil)(it);\n  }\n});\n"],"sourceRoot":""}